{"ast":null,"code":"import { useReducer, useCallback } from \"react\";\n\nconst httpReducer = (curHttpState, action) => {\n  switch (action.type) {\n    case \"SEND\":\n      return {\n        loading: true,\n        error: null,\n        data: null\n      };\n\n    case \"RESPONSE\":\n      return { ...curHttpState,\n        loading: false,\n        data: action.responseData\n      };\n\n    case \"ERROR\":\n      return {\n        loading: false,\n        error: action.errorMessage\n      };\n\n    case \"CLEAR\":\n      return { ...curHttpState,\n        error: null\n      };\n\n    default:\n      throw new Error(\"Action type DNE\");\n  }\n};\n\nconst useHttp = () => {\n  const [httpState, dispatchHttp] = useReducer(httpReducer, {\n    loading: false,\n    error: null,\n    data: null\n  });\n  const sendRequest = useCallback((url, method, body) => {\n    dispatchHttp({\n      type: \"SEND\"\n    });\n    fetch(url, {\n      method: method,\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      return response.json();\n    }).then(responseData => {\n      dispatchHttp({\n        type: \"RESPONSE\",\n        responseData: responseData\n      });\n    }).catch(error => {\n      dispatchHttp({\n        type: \"ERROR\",\n        errorMessage: \"error message here\"\n      });\n    });\n  }, []);\n  return {\n    isLoading: httpState.loading,\n    data: httpState.data,\n    error: httpState.error,\n    sendRequest: sendRequest\n  };\n};\n\nexport default useHttp;","map":{"version":3,"sources":["/Users/vwmac/Projects/RCG/26.426/src/components/hooks/http.js"],"names":["useReducer","useCallback","httpReducer","curHttpState","action","type","loading","error","data","responseData","errorMessage","Error","useHttp","httpState","dispatchHttp","sendRequest","url","method","body","fetch","headers","then","response","json","catch","isLoading"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,WAArB,QAAwC,OAAxC;;AAEA,MAAMC,WAAW,GAAG,CAACC,YAAD,EAAeC,MAAf,KAA0B;AAC5C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,MAAL;AACE,aAAO;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,KAAK,EAAE,IAAxB;AAA8BC,QAAAA,IAAI,EAAE;AAApC,OAAP;;AACF,SAAK,UAAL;AACE,aAAO,EAAE,GAAGL,YAAL;AAAmBG,QAAAA,OAAO,EAAE,KAA5B;AAAmCE,QAAAA,IAAI,EAAEJ,MAAM,CAACK;AAAhD,OAAP;;AACF,SAAK,OAAL;AACE,aAAO;AAAEH,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,KAAK,EAAEH,MAAM,CAACM;AAAhC,OAAP;;AACF,SAAK,OAAL;AACE,aAAO,EAAE,GAAGP,YAAL;AAAmBI,QAAAA,KAAK,EAAE;AAA1B,OAAP;;AACF;AACE,YAAM,IAAII,KAAJ,CAAU,iBAAV,CAAN;AAVJ;AAYD,CAbD;;AAeA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bd,UAAU,CAACE,WAAD,EAAc;AACxDI,IAAAA,OAAO,EAAE,KAD+C;AAExDC,IAAAA,KAAK,EAAE,IAFiD;AAGxDC,IAAAA,IAAI,EAAE;AAHkD,GAAd,CAA5C;AAMA,QAAMO,WAAW,GAAGd,WAAW,CAAC,CAACe,GAAD,EAAMC,MAAN,EAAcC,IAAd,KAAuB;AACrDJ,IAAAA,YAAY,CAAC;AAAET,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAZ;AACAc,IAAAA,KAAK,CAACH,GAAD,EAAM;AACTC,MAAAA,MAAM,EAAEA,MADC;AAETC,MAAAA,IAAI,EAAEA,IAFG;AAGTE,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHA,KAAN,CAAL,CAKGC,IALH,CAKQC,QAAQ,IAAI;AAChB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAPH,EAQGF,IARH,CAQQZ,YAAY,IAAI;AACpBK,MAAAA,YAAY,CAAC;AAAET,QAAAA,IAAI,EAAE,UAAR;AAAoBI,QAAAA,YAAY,EAAEA;AAAlC,OAAD,CAAZ;AACD,KAVH,EAWGe,KAXH,CAWSjB,KAAK,IAAI;AACdO,MAAAA,YAAY,CAAC;AAAET,QAAAA,IAAI,EAAE,OAAR;AAAiBK,QAAAA,YAAY,EAAE;AAA/B,OAAD,CAAZ;AACD,KAbH;AAcD,GAhB8B,EAgB5B,EAhB4B,CAA/B;AAkBA,SAAO;AACLe,IAAAA,SAAS,EAAEZ,SAAS,CAACP,OADhB;AAELE,IAAAA,IAAI,EAAEK,SAAS,CAACL,IAFX;AAGLD,IAAAA,KAAK,EAAEM,SAAS,CAACN,KAHZ;AAILQ,IAAAA,WAAW,EAAEA;AAJR,GAAP;AAMD,CA/BD;;AAiCA,eAAeH,OAAf","sourcesContent":["import { useReducer, useCallback } from \"react\";\n\nconst httpReducer = (curHttpState, action) => {\n  switch (action.type) {\n    case \"SEND\":\n      return { loading: true, error: null, data: null };\n    case \"RESPONSE\":\n      return { ...curHttpState, loading: false, data: action.responseData };\n    case \"ERROR\":\n      return { loading: false, error: action.errorMessage };\n    case \"CLEAR\":\n      return { ...curHttpState, error: null };\n    default:\n      throw new Error(\"Action type DNE\");\n  }\n};\n\nconst useHttp = () => {\n  const [httpState, dispatchHttp] = useReducer(httpReducer, {\n    loading: false,\n    error: null,\n    data: null\n  });\n\n  const sendRequest = useCallback((url, method, body) => {\n    dispatchHttp({ type: \"SEND\" });\n    fetch(url, {\n      method: method,\n      body: body,\n      headers: { \"Content-Type\": \"application/json\" }\n    })\n      .then(response => {\n        return response.json();\n      })\n      .then(responseData => {\n        dispatchHttp({ type: \"RESPONSE\", responseData: responseData });\n      })\n      .catch(error => {\n        dispatchHttp({ type: \"ERROR\", errorMessage: \"error message here\" });\n      });\n  }, []);\n\n  return {\n    isLoading: httpState.loading,\n    data: httpState.data,\n    error: httpState.error,\n    sendRequest: sendRequest\n  };\n};\n\nexport default useHttp;\n"]},"metadata":{},"sourceType":"module"}